# Статический анализ кода

## Обзор

В проект интегрированы инструменты статического анализа кода для обеспечения качества и единообразия стиля кода.

## Установленные инструменты

### 1. Checkstyle
**Назначение:** Проверка стиля кода и соответствия стандартам кодирования.

**Конфигурация:** `checkstyle.xml` в корне проекта

**Запуск:**
```bash
mvn checkstyle:check
```

**Основные проверки:**
- Соглашения об именовании (naming conventions)
- Длина строк (максимум 120 символов)
- Длина методов (максимум 150 строк)
- Импорты (запрет star imports)
- Отступы и пробелы
- Структура блоков кода
- Модификаторы доступа

### 2. SpotBugs
**Назначение:** Поиск потенциальных багов и проблем в коде.

**Запуск:**
```bash
mvn spotbugs:check
```

**Генерация отчета:**
```bash
mvn spotbugs:spotbugs
```

Отчет будет доступен в `target/spotbugsXml.xml` и `target/spotbugs.html`

## Интеграция в процесс сборки

Оба инструмента интегрированы в процесс сборки Maven:

- **Checkstyle** запускается на фазе `validate`
- **SpotBugs** запускается на фазе `verify`

Для запуска всех проверок:
```bash
mvn validate verify
```

## Настройка

### Checkstyle

Конфигурация находится в файле `checkstyle.xml`. Основные параметры:

- Максимальная длина строки: 120 символов
- Максимальная длина метода: 150 строк
- Максимальное количество параметров: 7
- Запрещены star imports

### SpotBugs

Настройки в `pom.xml`:
- Уровень усилий: Max (максимальная тщательность)
- Порог: Low (низкий порог, находит больше проблем)

## Исправление проблем

### Автоматическое исправление

Некоторые проблемы Checkstyle можно исправить автоматически с помощью IDE:
- IntelliJ IDEA: Code → Reformat Code
- Eclipse: Source → Format

### Ручное исправление

1. Запустите анализ: `mvn checkstyle:check`
2. Просмотрите список предупреждений
3. Исправьте проблемы в коде
4. Повторите проверку

## Исключения

Если необходимо исключить определенные файлы или правила из проверки, можно:

1. Добавить файлы в `.checkstyleignore`
2. Настроить исключения в `checkstyle.xml` через `BeforeExecutionExclusionFileFilter`

## Рекомендации

1. Запускайте проверки перед каждым коммитом
2. Исправляйте критические проблемы немедленно
3. Для некритических предупреждений создавайте отдельные задачи
4. Регулярно обновляйте конфигурацию анализаторов

## CI/CD

В CI/CD пайплайне проверки запускаются автоматически:

```yaml
# Пример для GitHub Actions
- name: Run Checkstyle
  run: mvn checkstyle:check

- name: Run SpotBugs
  run: mvn spotbugs:check
```

## Дополнительные ресурсы

- [Checkstyle Documentation](https://checkstyle.sourceforge.io/)
- [SpotBugs Documentation](https://spotbugs.github.io/)

